## 무중단 배포 방식 3가지

출처 : https://hudi.blog/zero-downtime-deployment/

### 롤링(Rolling) 배포
- 트래픽을 점진적으로 구버전에서 새로운 버전으로 옮기는 방식
- 새 버전이 적용된 새 서버를 추가하거나 기존 서버를 잠시 중지하고 버전을 교체하는 방식
- 장점 : 많은 서버 자원을 확보하지 않아도 사용 가능
- 단점
  - 구버전과 신버전의 어플리케이션이 동시에 서비스되기 때문에 호환성 문제가 발생 가능
  - 한 번 배포가 시작되면 롤백이 더 복잡

### Blue/Green 배포
- 트래픽을 한번에 구버전에서 신버전으로 옮기는 방법
- 현재 운영중인 서비스의 환경을 Blue, 새롭게 배포할 환경을 Green
- 장점 : 호환성 문제가 발생하지 않음
- 단점 : 실제 운영에 필요한 서버 리소스 대비 2배의 리소스를 확보해야함 (온프레미스에서는 비효율적)

### 카나리(Canary) 배포 
- 점진적으로 구버전에 대한 트래픽을 신버전으로 옮기는 것은 롤링 배포 방식과 비슷
- 핵심은 새로운 버전에 대한 `오류를 조기에 감지`하는 것
- 블루/그린처럼 구버전, 신버전 환경을 둘 다 그대로 둔 상태에서 신버전으로 가는 트래픽을 점차 늘림 (A/B테스트에 적합)
- 장점 : 새 버전에 문제가 있을 경우 즉시 롤백 가능 (높은 안정성) 
- 단점 : 구버전과 신버전의 어플리케이션이 동시에 서비스되기 때문에 호환성 문제가 발생 가능

<BR>

## 카나리 배포와 롤링 배포 전략의 차이점

| 특징     | 카나리 배포                                       | 롤링 배포                                     |
|----------|---------------------------------------------------|----------------------------------------------|
| 리스크 관리 | 새 버전에 문제가 있을 경우 신속하게 롤백 가능, 리스크 최소화 | 전체 인프라에 대해 점진적 업데이트, 롤백이 더 복잡할 수 있음 |
| 사용자 영향 | 초기 단계에서 소수의 사용자만 새 버전에 영향          | 배포 과정에서 점차적으로 모든 사용자가 새 버전 경험   |
| 배포 속도 | 더 신중하고 점진적인 접근, 배포 속도가 상대적으로 느림   | 전체 인프라에 대해 새 버전을 더 빠르게 배포     |
